/*! Bespoke.js v0.3.1 © 2013 Mark Dalgleish, Licensed MIT */
!function(a,b){var c=function(a,b){var c=a.blur?a:document.querySelector(a),g=[].slice.call(c.children,0),h=g[0],i={},k=function(a,b){g[a]&&(p("deactivate",q(h,b)),h=g[a],g.map(l),p("activate",q(h,b)),e(h,"active"),f(h,"inactive"))},l=function(a,b){var c=b-g.indexOf(h),d=c>0?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(f.bind(0,a)),a!=h&&["inactive",d,d+"-"+Math.abs(c)].map(e.bind(0,a))},m=function(a,b){p("slide",q(g[a],b))&&k(a,b)},n=function(a,b){var c=g.indexOf(h)+a;p(a>0?"next":"prev",q(h,b))&&k(c,b)},o=function(a,b){return(i[a]||(i[a]=[])).push(b),function(){i[a]=i[a].filter(function(a){return a!=b})}},p=function(a,b){return(i[a]||[]).reduce(function(a,c){return a&&c(b)!==!1},!0)},q=function(a,b){return b=b||{},b.index=g.indexOf(a),b.slide=a,b},r={on:o,fire:p,slide:m,next:n.bind(0,1),prev:n.bind(0,-1),parent:c,slides:g};e(c,"parent"),g.map(function(a){e(a,"slide")});for(var s in b)j[s](r,b[s]);return k(0),d.push(r),r},d=[],e=function(b,c){b.classList.add(a+"-"+c)},f=function(b,c){b.className=b.className.replace(RegExp(a+"-"+c+"(\\s|$)","g")," ").trim()},g=function(a){return function(b){d.map(function(c){c[a](b)})}},h=function(a){return{from:function(b,d){return(d=d||{})[a]=!0,c(b,d)}}},i=function(a){return function(b){var c,d;document.addEventListener("keydown",function(c){(34==c.which||32==c.which||"X"==a&&39==c.which||"Y"==a&&40==c.which)&&b.next(),(33==c.which||"X"==a&&37==c.which||"Y"==a&&38==c.which)&&b.prev()}),b.parent.addEventListener("touchstart",function(b){1==b.touches.length&&(c=b.touches[0]["page"+a],d=0)}),b.parent.addEventListener("touchmove",function(b){1==b.touches.length&&(b.preventDefault(),d=b.touches[0]["page"+a]-c)}),b.parent.addEventListener("touchend",function(){Math.abs(d)>50&&(d>0?b.prev():b.next())})}},j={horizontal:i("X"),vertical:i("Y")};b[a]={from:c,slide:g("slide"),next:g("next"),prev:g("prev"),horizontal:h("horizontal"),vertical:h("vertical"),plugins:j}}("bespoke",window);

/*! bespoke-hash v0.1.2 © 2013 Mark Dalgleish, Licensed MIT */
(function(e){e.plugins.hash=function(e){var t,n=function(){var t=window.location.hash.slice(1),n=parseInt(t,10);t&&(n?r(n-1):e.slides.forEach(function(e,n){e.getAttribute("data-bespoke-hash")===t&&r(n)}))},r=function(n){n!==t&&e.slide(n)};setTimeout(function(){n(),e.on("activate",function(e){var n=e.slide.getAttribute("data-bespoke-hash");window.location.hash=n||e.index+1,t=e.index}),window.addEventListener("hashchange",n)},0)}})(bespoke);

/*! bespoke-bullets v0.2.1 © 2013 Mark Dalgleish, Licensed MIT */
(function(e){e.plugins.bullets=function(e,t){var n,r,i=e.slides.map(function(e){return[].slice.call(e.querySelectorAll(typeof t=="string"?t:"[data-bespoke-bullet]"),0)}),s=function(){var e=n+1;if(a(1))return u(n,r+1),!1;i[e]&&u(e,0)},o=function(){var e=n-1;if(a(-1))return u(n,r-1),!1;i[e]&&u(e,i[e].length-1)},u=function(e,t){n=e,r=t,i.forEach(function(n,r){n.forEach(function(n,i){n.classList.add("bespoke-bullet"),r<e||r===e&&i<=t?(n.classList.add("bespoke-bullet-active"),n.classList.remove("bespoke-bullet-inactive")):(n.classList.add("bespoke-bullet-inactive"),n.classList.remove("bespoke-bullet-active"))})})},a=function(e){return i[n][r+e]!==undefined};e.on("next",s),e.on("prev",o),e.on("slide",function(e){u(e.index,0)}),u(0,0)}})(bespoke);

/*! bespoke-state v0.2.2 © 2013 Mark Dalgleish, Licensed MIT */
(function(e){e.plugins.state=function(e){var t=function(t,n){var r=n.slide.getAttribute("data-bespoke-state");r&&r.split(" ").forEach(function(n){n&&e.parent.classList[t](n)})};e.on("activate",t.bind(null,"add")),e.on("deactivate",t.bind(null,"remove"))}})(bespoke);